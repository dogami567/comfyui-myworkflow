{"id":"00000000-0000-0000-0000-000000000000","revision":0,"last_node_id":75,"last_link_id":87,"nodes":[{"id":57,"type":"IPAdapterModelLoader","pos":[1260.1248779296875,-197.25851440429688],"size":[270,58],"flags":{},"order":0,"mode":0,"inputs":[{"label":"ipadapter_file","localized_name":"ipadapter_file","name":"ipadapter_file","type":"COMBO","widget":{"name":"ipadapter_file"},"link":null}],"outputs":[{"label":"IPADAPTER","localized_name":"IPADAPTER","name":"IPADAPTER","type":"IPADAPTER","links":[84]}],"properties":{"cnr_id":"comfyui_ipadapter_plus","ver":"b188a6cb39b512a9c6da7235b880af42c78ccd0d","widget_ue_connectable":{}},"widgets_values":["Kolors-IP-Adapter-Plus.bin"]},{"id":66,"type":"PreviewImage","pos":[2730.876953125,250.18646240234375],"size":[140,26],"flags":{},"order":20,"mode":0,"inputs":[{"label":"images","localized_name":"图像","name":"images","type":"IMAGE","link":67}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.47","widget_ue_connectable":{}},"widgets_values":[]},{"id":53,"type":"MakeCircularVAE","pos":[2196.5693359375,433.55523681640625],"size":[270,82],"flags":{},"order":13,"mode":0,"inputs":[{"label":"vae","localized_name":"vae","name":"vae","type":"VAE","link":45},{"label":"tiling","localized_name":"tiling","name":"tiling","type":"COMBO","widget":{"name":"tiling"},"link":null},{"label":"copy_vae","localized_name":"copy_vae","name":"copy_vae","type":"COMBO","widget":{"name":"copy_vae"},"link":null}],"outputs":[{"label":"VAE","localized_name":"VAE","name":"VAE","type":"VAE","links":[46]}],"properties":{"cnr_id":"comfyui-seamless-tiling","ver":"c907be28ab98127c031b8bf74a118c0a40d67fe1","widget_ue_connectable":{},"Node name for S&R":"MakeCircularVAE"},"widgets_values":["enable","Make a copy"]},{"id":70,"type":"MZ_ChatGLM3","pos":[1247.759521484375,700.6600341796875],"size":[314.2882385253906,185.1245880126953],"flags":{},"order":10,"mode":0,"inputs":[{"label":"chatglm3_model","localized_name":"chatglm3_model","name":"chatglm3_model","type":"CHATGLM3MODEL","link":75},{"label":"hid_proj","localized_name":"hid_proj","name":"hid_proj","type":"TorchLinear","link":70},{"label":"text","localized_name":"text","name":"text","type":"STRING","widget":{"name":"text"},"link":null}],"outputs":[{"label":"CONDITIONING","localized_name":"条件","name":"CONDITIONING","type":"CONDITIONING","slot_index":0,"links":[73]}],"properties":{"cnr_id":"comfyui-kolors-mz","ver":"2.0.0","widget_ue_connectable":{},"Node name for S&R":"MZ_ChatGLM3"},"widgets_values":["",[false,true]]},{"id":71,"type":"MZ_ChatGLM3","pos":[1270.6656494140625,452.48876953125],"size":[320.9889221191406,190.78298950195312],"flags":{},"order":11,"mode":0,"inputs":[{"label":"chatglm3_model","localized_name":"chatglm3_model","name":"chatglm3_model","type":"CHATGLM3MODEL","link":74},{"label":"hid_proj","localized_name":"hid_proj","name":"hid_proj","type":"TorchLinear","link":71},{"label":"text","localized_name":"text","name":"text","type":"STRING","widget":{"name":"text"},"link":null}],"outputs":[{"label":"CONDITIONING","localized_name":"条件","name":"CONDITIONING","type":"CONDITIONING","slot_index":0,"links":[72]}],"properties":{"cnr_id":"comfyui-kolors-mz","ver":"2.0.0","widget_ue_connectable":{"text":true},"Node name for S&R":"MZ_ChatGLM3"},"widgets_values":["一个亚洲韩国的女孩，露出胸部，装着蕾丝透明的胸罩",[false,true]]},{"id":72,"type":"MZ_ChatGLM3Loader","pos":[706.5550537109375,479.14959716796875],"size":[315,58],"flags":{},"order":1,"mode":0,"inputs":[{"label":"chatglm3_checkpoint","localized_name":"chatglm3_checkpoint","name":"chatglm3_checkpoint","type":"COMBO","widget":{"name":"chatglm3_checkpoint"},"link":null}],"outputs":[{"label":"chatglm3_model","localized_name":"chatglm3_model","name":"chatglm3_model","type":"CHATGLM3MODEL","links":[74,75]}],"properties":{"cnr_id":"comfyui-kolors-mz","ver":"2.0.0","widget_ue_connectable":{},"Node name for S&R":"MZ_ChatGLM3Loader"},"widgets_values":["chatglm3-8bit.safetensors"]},{"id":56,"type":"CLIPVisionLoader","pos":[1235.8734130859375,-84.36380004882812],"size":[270,58],"flags":{},"order":2,"mode":0,"inputs":[{"label":"clip_name","localized_name":"clip名称","name":"clip_name","type":"COMBO","widget":{"name":"clip_name"},"link":null}],"outputs":[{"label":"CLIP_VISION","localized_name":"CLIP视觉","name":"CLIP_VISION","type":"CLIP_VISION","links":[85]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.47","widget_ue_connectable":{}},"widgets_values":["pytorch_model.bin"]},{"id":69,"type":"MZ_KolorsUNETLoader","pos":[692.1453857421875,596.2387084960938],"size":[315,126],"flags":{},"order":3,"mode":0,"inputs":[{"label":"unet_name","localized_name":"unet_name","name":"unet_name","type":"COMBO","widget":{"name":"unet_name"},"link":null}],"outputs":[{"label":"model","localized_name":"model","name":"model","type":"MODEL","slot_index":0,"links":[]},{"label":"hid_proj","localized_name":"hid_proj","name":"hid_proj","type":"TorchLinear","slot_index":1,"links":[70,71]}],"properties":{"cnr_id":"comfyui-kolors-mz","ver":"2.0.0","widget_ue_connectable":{},"Node name for S&R":"MZ_KolorsUNETLoader"},"widgets_values":["kolors.safetensors"]},{"id":42,"type":"VAEDecode","pos":[2374.114501953125,269.12286376953125],"size":[140,46],"flags":{},"order":19,"mode":0,"inputs":[{"label":"samples","localized_name":"Latent","name":"samples","type":"LATENT","link":33},{"label":"vae","localized_name":"vae","name":"vae","type":"VAE","link":46}],"outputs":[{"label":"IMAGE","localized_name":"图像","name":"IMAGE","type":"IMAGE","links":[67]}],"title":"VAE Decode","properties":{"cnr_id":"comfy-core","ver":"0.3.45","widget_ue_connectable":{}},"widgets_values":[]},{"id":43,"type":"KSampler","pos":[1867.49169921875,243.54908752441406],"size":[270,262],"flags":{},"order":18,"mode":0,"inputs":[{"label":"model","localized_name":"模型","name":"model","type":"MODEL","link":86},{"label":"positive","localized_name":"正面条件","name":"positive","type":"CONDITIONING","link":59},{"label":"negative","localized_name":"负面条件","name":"negative","type":"CONDITIONING","link":60},{"label":"latent_image","localized_name":"Latent图像","name":"latent_image","type":"LATENT","link":65},{"label":"seed","localized_name":"种子","name":"seed","type":"INT","widget":{"name":"seed"},"link":null},{"label":"steps","localized_name":"步数","name":"steps","type":"INT","widget":{"name":"steps"},"link":null},{"label":"cfg","localized_name":"cfg","name":"cfg","type":"FLOAT","widget":{"name":"cfg"},"link":null},{"label":"sampler_name","localized_name":"采样器名称","name":"sampler_name","type":"COMBO","widget":{"name":"sampler_name"},"link":null},{"label":"scheduler","localized_name":"调度器","name":"scheduler","type":"COMBO","widget":{"name":"scheduler"},"link":null},{"label":"denoise","localized_name":"降噪","name":"denoise","type":"FLOAT","widget":{"name":"denoise"},"link":null}],"outputs":[{"label":"LATENT","localized_name":"Latent","name":"LATENT","type":"LATENT","links":[33]}],"title":"KSampler","properties":{"cnr_id":"comfy-core","ver":"0.3.45","widget_ue_connectable":{}},"widgets_values":[915940589189566,"randomize",25,4.5,"dpmpp_2m","karras",1]},{"id":58,"type":"LoadImage","pos":[1562.4693603515625,1019.5726928710938],"size":[270,314.00006103515625],"flags":{},"order":4,"mode":0,"inputs":[{"label":"image","localized_name":"图像","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"label":"upload","localized_name":"选择文件上传","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"label":"IMAGE","localized_name":"图像","name":"IMAGE","type":"IMAGE","links":[83]},{"label":"MASK","localized_name":"遮罩","name":"MASK","type":"MASK","links":null}],"properties":{"cnr_id":"comfy-core","ver":"0.3.47","widget_ue_connectable":{}},"widgets_values":["pasted/image (77).png","image"]},{"id":64,"type":"LoadImage","pos":[692.5248413085938,815.90234375],"size":[270,314],"flags":{},"order":5,"mode":0,"inputs":[{"label":"image","localized_name":"图像","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"label":"upload","localized_name":"选择文件上传","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"label":"IMAGE","localized_name":"图像","name":"IMAGE","type":"IMAGE","links":[64,77]},{"label":"MASK","localized_name":"遮罩","name":"MASK","type":"MASK","links":null}],"properties":{"cnr_id":"comfy-core","ver":"0.3.47","widget_ue_connectable":{}},"widgets_values":["下载 (4).jpg","image"]},{"id":60,"type":"AIO_Preprocessor","pos":[1671.395263671875,668.2942504882812],"size":[270,82],"flags":{},"order":12,"mode":0,"inputs":[{"label":"image","localized_name":"image","name":"image","type":"IMAGE","link":77},{"label":"preprocessor","localized_name":"preprocessor","name":"preprocessor","shape":7,"type":"COMBO","widget":{"name":"preprocessor"},"link":null},{"label":"resolution","localized_name":"resolution","name":"resolution","shape":7,"type":"INT","widget":{"name":"resolution"},"link":null}],"outputs":[{"label":"IMAGE","localized_name":"图像","name":"IMAGE","type":"IMAGE","links":[78]}],"properties":{"cnr_id":"comfyui_controlnet_aux","ver":"59b027e088c1c8facf7258f6e392d16d204b4d27","widget_ue_connectable":{}},"widgets_values":["CannyEdgePreprocessor",768]},{"id":65,"type":"VAEEncode","pos":[1656.14306640625,327.4879455566406],"size":[140,46],"flags":{},"order":14,"mode":0,"inputs":[{"label":"pixels","localized_name":"像素","name":"pixels","type":"IMAGE","link":64},{"label":"vae","localized_name":"vae","name":"vae","type":"VAE","link":68}],"outputs":[{"label":"LATENT","localized_name":"Latent","name":"LATENT","type":"LATENT","links":[65]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.47","widget_ue_connectable":{}},"widgets_values":[]},{"id":52,"type":"SeamlessTile","pos":[1095.6796875,37.26615905761719],"size":[270,82],"flags":{},"order":15,"mode":0,"inputs":[{"label":"model","localized_name":"model","name":"model","type":"MODEL","link":43},{"label":"tiling","localized_name":"tiling","name":"tiling","type":"COMBO","widget":{"name":"tiling"},"link":null},{"label":"copy_model","localized_name":"copy_model","name":"copy_model","type":"COMBO","widget":{"name":"copy_model"},"link":null}],"outputs":[{"label":"MODEL","localized_name":"模型","name":"MODEL","type":"MODEL","links":[82]}],"properties":{"cnr_id":"comfyui-seamless-tiling","ver":"c907be28ab98127c031b8bf74a118c0a40d67fe1","widget_ue_connectable":{},"Node name for S&R":"SeamlessTile"},"widgets_values":["enable","Make a copy"]},{"id":45,"type":"VAELoader","pos":[724.9125366210938,247.20474243164062],"size":[270,58],"flags":{},"order":6,"mode":0,"inputs":[{"label":"vae_name","localized_name":"vae名称","name":"vae_name","type":"COMBO","widget":{"name":"vae_name"},"link":null}],"outputs":[{"label":"VAE","localized_name":"VAE","name":"VAE","type":"VAE","links":[45,68]}],"title":"Load VAE","properties":{"cnr_id":"comfy-core","ver":"0.3.45","widget_ue_connectable":{}},"widgets_values":["sdxl_vae.safetensors"]},{"id":59,"type":"ControlNetApplyAdvanced","pos":[2228.64697265625,573.3344116210938],"size":[278.8169860839844,186],"flags":{},"order":16,"mode":0,"inputs":[{"label":"positive","localized_name":"正面条件","name":"positive","type":"CONDITIONING","link":72},{"label":"negative","localized_name":"负面条件","name":"negative","type":"CONDITIONING","link":73},{"label":"control_net","localized_name":"ControlNet","name":"control_net","type":"CONTROL_NET","link":87},{"label":"image","localized_name":"图像","name":"image","type":"IMAGE","link":78},{"label":"vae","localized_name":"vae","name":"vae","shape":7,"type":"VAE","link":null},{"label":"strength","localized_name":"强度","name":"strength","type":"FLOAT","widget":{"name":"strength"},"link":null},{"label":"start_percent","localized_name":"开始百分比","name":"start_percent","type":"FLOAT","widget":{"name":"start_percent"},"link":null},{"label":"end_percent","localized_name":"结束百分比","name":"end_percent","type":"FLOAT","widget":{"name":"end_percent"},"link":null}],"outputs":[{"label":"positive","localized_name":"正面条件","name":"positive","type":"CONDITIONING","links":[59]},{"label":"negative","localized_name":"负面条件","name":"negative","type":"CONDITIONING","links":[60]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.47","widget_ue_connectable":{}},"widgets_values":[0.9000000000000001,0,1]},{"id":49,"type":"MZ_KolorsUNETLoaderV2","pos":[713.5089111328125,370.584716796875],"size":[320.1060485839844,58],"flags":{},"order":7,"mode":0,"inputs":[{"label":"unet_name","localized_name":"unet_name","name":"unet_name","type":"COMBO","widget":{"name":"unet_name"},"link":null}],"outputs":[{"label":"model","localized_name":"model","name":"model","type":"MODEL","links":[43]}],"properties":{"cnr_id":"comfyui-kolors-mz","ver":"2.0.0","widget_ue_connectable":{}},"widgets_values":["kolors.safetensors"]},{"id":54,"type":"IPAdapterAdvanced","pos":[1565.45166015625,-56.11508560180664],"size":[270,278],"flags":{},"order":8,"mode":0,"inputs":[{"label":"model","localized_name":"model","name":"model","type":"MODEL","link":null},{"label":"ipadapter","localized_name":"ipadapter","name":"ipadapter","type":"IPADAPTER","link":null},{"label":"image","localized_name":"image","name":"image","type":"IMAGE","link":null},{"label":"image_negative","localized_name":"image_negative","name":"image_negative","shape":7,"type":"IMAGE","link":null},{"label":"attn_mask","localized_name":"attn_mask","name":"attn_mask","shape":7,"type":"MASK","link":null},{"label":"clip_vision","localized_name":"clip_vision","name":"clip_vision","shape":7,"type":"CLIP_VISION","link":null},{"label":"weight","localized_name":"weight","name":"weight","type":"FLOAT","widget":{"name":"weight"},"link":null},{"label":"weight_type","localized_name":"weight_type","name":"weight_type","type":"COMBO","widget":{"name":"weight_type"},"link":null},{"label":"combine_embeds","localized_name":"combine_embeds","name":"combine_embeds","type":"COMBO","widget":{"name":"combine_embeds"},"link":null},{"label":"start_at","localized_name":"start_at","name":"start_at","type":"FLOAT","widget":{"name":"start_at"},"link":null},{"label":"end_at","localized_name":"end_at","name":"end_at","type":"FLOAT","widget":{"name":"end_at"},"link":null},{"label":"embeds_scaling","localized_name":"embeds_scaling","name":"embeds_scaling","type":"COMBO","widget":{"name":"embeds_scaling"},"link":null}],"outputs":[{"label":"MODEL","localized_name":"模型","name":"MODEL","type":"MODEL","links":[]}],"properties":{"cnr_id":"comfyui_ipadapter_plus","ver":"b188a6cb39b512a9c6da7235b880af42c78ccd0d","widget_ue_connectable":{}},"widgets_values":[0.6000000000000001,"linear","concat",0,1,"V only"]},{"id":75,"type":"MZ_IPAdapterAdvancedKolors","pos":[1886.671630859375,-184.06227111816406],"size":[327.6460876464844,278],"flags":{},"order":17,"mode":0,"inputs":[{"label":"model","localized_name":"model","name":"model","type":"MODEL","link":82},{"label":"ipadapter","localized_name":"ipadapter","name":"ipadapter","type":"IPADAPTER","link":84},{"label":"image","localized_name":"image","name":"image","type":"IMAGE","link":83},{"label":"image_negative","localized_name":"image_negative","name":"image_negative","shape":7,"type":"IMAGE","link":null},{"label":"attn_mask","localized_name":"attn_mask","name":"attn_mask","shape":7,"type":"MASK","link":null},{"label":"clip_vision","localized_name":"clip_vision","name":"clip_vision","shape":7,"type":"CLIP_VISION","link":85},{"label":"weight","localized_name":"weight","name":"weight","type":"FLOAT","widget":{"name":"weight"},"link":null},{"label":"weight_type","localized_name":"weight_type","name":"weight_type","type":"COMBO","widget":{"name":"weight_type"},"link":null},{"label":"combine_embeds","localized_name":"combine_embeds","name":"combine_embeds","type":"COMBO","widget":{"name":"combine_embeds"},"link":null},{"label":"start_at","localized_name":"start_at","name":"start_at","type":"FLOAT","widget":{"name":"start_at"},"link":null},{"label":"end_at","localized_name":"end_at","name":"end_at","type":"FLOAT","widget":{"name":"end_at"},"link":null},{"label":"embeds_scaling","localized_name":"embeds_scaling","name":"embeds_scaling","type":"COMBO","widget":{"name":"embeds_scaling"},"link":null}],"outputs":[{"label":"MODEL","localized_name":"模型","name":"MODEL","type":"MODEL","links":[86]}],"properties":{"cnr_id":"comfyui-kolors-mz","ver":"2.0.0","widget_ue_connectable":{}},"widgets_values":[0.6000000000000001,"linear","concat",0,1,"V only"]},{"id":73,"type":"MZ_KolorsControlNetLoader","pos":[1914.6593017578125,864.0440673828125],"size":[331.7886657714844,58],"flags":{},"order":9,"mode":0,"inputs":[{"label":"control_net_name","localized_name":"control_net_name","name":"control_net_name","type":"COMBO","widget":{"name":"control_net_name"},"link":null}],"outputs":[{"label":"ControlNet","localized_name":"ControlNet","name":"ControlNet","type":"CONTROL_NET","links":[87]}],"properties":{"cnr_id":"comfyui-kolors-mz","ver":"2.0.0","widget_ue_connectable":{}},"widgets_values":["kolors-canny.safetensors"]}],"links":[[33,43,0,42,0,"LATENT"],[43,49,0,52,0,"MODEL"],[45,45,0,53,0,"VAE"],[46,53,0,42,1,"VAE"],[59,59,0,43,1,"CONDITIONING"],[60,59,1,43,2,"CONDITIONING"],[64,64,0,65,0,"IMAGE"],[65,65,0,43,3,"LATENT"],[67,42,0,66,0,"IMAGE"],[68,45,0,65,1,"VAE"],[70,69,1,70,1,"TorchLinear"],[71,69,1,71,1,"TorchLinear"],[72,71,0,59,0,"CONDITIONING"],[73,70,0,59,1,"CONDITIONING"],[74,72,0,71,0,"CHATGLM3MODEL"],[75,72,0,70,0,"CHATGLM3MODEL"],[77,64,0,60,0,"IMAGE"],[78,60,0,59,3,"IMAGE"],[82,52,0,75,0,"MODEL"],[83,58,0,75,2,"IMAGE"],[84,57,0,75,1,"IPADAPTER"],[85,56,0,75,5,"CLIP_VISION"],[86,75,0,43,0,"MODEL"],[87,73,0,59,2,"CONTROL_NET"]],"groups":[],"config":{},"extra":{"ue_links":[],"ds":{"scale":0.6588450000000003,"offset":[-556.8384253394023,321.0365764133279]},"workspace_info":{"id":"cBc9xQK1ncPBRH2Ga4rkv","saveLock":false,"cloudID":null,"coverMediaPath":null},"links_added_by_ue":[]},"version":0.4}
{"id":"b2d942a6-d37c-4fe2-939d-7d849083f88d","revision":0,"last_node_id":79,"last_link_id":125,"nodes":[{"id":37,"type":"DustAndScratches","pos":[32.497154235839844,782.7303466796875],"size":[270,130],"flags":{},"order":13,"mode":4,"inputs":[{"label":"image","localized_name":"image","name":"image","type":"IMAGE","link":54},{"label":"radius","localized_name":"radius","name":"radius","type":"FLOAT","widget":{"name":"radius"},"link":null},{"label":"threshold","localized_name":"threshold","name":"threshold","type":"FLOAT","widget":{"name":"threshold"},"link":null},{"label":"method","localized_name":"method","name":"method","type":"COMBO","widget":{"name":"method"},"link":null},{"label":"preserve_details","localized_name":"preserve_details","name":"preserve_details","type":"BOOLEAN","widget":{"name":"preserve_details"},"link":null}],"outputs":[{"label":"IMAGE","localized_name":"图像","name":"IMAGE","type":"IMAGE","links":[55]}],"properties":{"aux_id":"dogami567/dogami_nodes","ver":"b4328406cd0bdde0eb71bb42809dcdd0dd9a9477","widget_ue_connectable":{}},"widgets_values":[3,10,"ps_like (仿PS算法)",true]},{"id":40,"type":"Image Comparer (rgthree)","pos":[2559.551025390625,1949.75048828125],"size":[582.36865234375,622.3870849609375],"flags":{},"order":42,"mode":4,"inputs":[{"dir":3,"label":"image_a","name":"image_a","type":"IMAGE","link":94},{"dir":3,"label":"image_b","name":"image_b","type":"IMAGE","link":59}],"outputs":[],"properties":{"cnr_id":"rgthree-comfy","ver":"9c01f224a8227ad1a7036b57c423c3906b93d115","comparer_mode":"Slide","widget_ue_connectable":{}},"widgets_values":[[{"name":"A","selected":true,"url":"/api/view?filename=rgthree.compare._temp_bcdyt_00013_.png&type=temp&subfolder=&rand=0.553316034358422"},{"name":"B","selected":true,"url":"/api/view?filename=rgthree.compare._temp_bcdyt_00014_.png&type=temp&subfolder=&rand=0.2826461962908041"}]]},{"id":41,"type":"PreviewImage","pos":[1791.7755126953125,1929.9818115234375],"size":[620.5072021484375,646.5426025390625],"flags":{},"order":41,"mode":4,"inputs":[{"label":"images","localized_name":"图像","name":"images","type":"IMAGE","link":58}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.42","widget_ue_connectable":{}},"widgets_values":[]},{"id":39,"type":"DustAndScratches","pos":[1098.084716796875,1980.6324462890625],"size":[270,130],"flags":{},"order":38,"mode":4,"inputs":[{"label":"image","localized_name":"image","name":"image","type":"IMAGE","link":57},{"label":"radius","localized_name":"radius","name":"radius","type":"FLOAT","widget":{"name":"radius"},"link":null},{"label":"threshold","localized_name":"threshold","name":"threshold","type":"FLOAT","widget":{"name":"threshold"},"link":null},{"label":"method","localized_name":"method","name":"method","type":"COMBO","widget":{"name":"method"},"link":null},{"label":"preserve_details","localized_name":"preserve_details","name":"preserve_details","type":"BOOLEAN","widget":{"name":"preserve_details"},"link":null}],"outputs":[{"label":"IMAGE","localized_name":"图像","name":"IMAGE","type":"IMAGE","links":[56]}],"properties":{"aux_id":"dogami567/dogami_nodes","ver":"b4328406cd0bdde0eb71bb42809dcdd0dd9a9477","widget_ue_connectable":{}},"widgets_values":[2,10,"opencv_denoise (OpenCV去噪)",true]},{"id":36,"type":"DustAndScratches","pos":[-260.8568420410156,779.904296875],"size":[270,130],"flags":{},"order":11,"mode":4,"inputs":[{"label":"image","localized_name":"image","name":"image","type":"IMAGE","link":75},{"label":"radius","localized_name":"radius","name":"radius","type":"FLOAT","widget":{"name":"radius"},"link":null},{"label":"threshold","localized_name":"threshold","name":"threshold","type":"FLOAT","widget":{"name":"threshold"},"link":null},{"label":"method","localized_name":"method","name":"method","type":"COMBO","widget":{"name":"method"},"link":null},{"label":"preserve_details","localized_name":"preserve_details","name":"preserve_details","type":"BOOLEAN","widget":{"name":"preserve_details"},"link":null}],"outputs":[{"label":"IMAGE","localized_name":"图像","name":"IMAGE","type":"IMAGE","links":[54]}],"properties":{"aux_id":"dogami567/dogami_nodes","ver":"b4328406cd0bdde0eb71bb42809dcdd0dd9a9477","widget_ue_connectable":{}},"widgets_values":[3,10,"opencv_denoise (OpenCV去噪)",true]},{"id":43,"type":"MaskToImage","pos":[1347.21484375,320.4131164550781],"size":[140,26],"flags":{},"order":21,"mode":0,"inputs":[{"label":"mask","localized_name":"遮罩","name":"mask","type":"MASK","link":81}],"outputs":[{"label":"IMAGE","localized_name":"图像","name":"IMAGE","type":"IMAGE","links":[62]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.47","widget_ue_connectable":{}},"widgets_values":[]},{"id":38,"type":"DustAndScratches","pos":[1402.569091796875,2004.707763671875],"size":[270,130],"flags":{},"order":40,"mode":4,"inputs":[{"label":"image","localized_name":"image","name":"image","type":"IMAGE","link":56},{"label":"radius","localized_name":"radius","name":"radius","type":"FLOAT","widget":{"name":"radius"},"link":null},{"label":"threshold","localized_name":"threshold","name":"threshold","type":"FLOAT","widget":{"name":"threshold"},"link":null},{"label":"method","localized_name":"method","name":"method","type":"COMBO","widget":{"name":"method"},"link":null},{"label":"preserve_details","localized_name":"preserve_details","name":"preserve_details","type":"BOOLEAN","widget":{"name":"preserve_details"},"link":null}],"outputs":[{"label":"IMAGE","localized_name":"图像","name":"IMAGE","type":"IMAGE","links":[58,59]}],"properties":{"aux_id":"dogami567/dogami_nodes","ver":"b4328406cd0bdde0eb71bb42809dcdd0dd9a9477","widget_ue_connectable":{}},"widgets_values":[1.3,5,"ps_like (仿PS算法)",true]},{"id":42,"type":"DustAndScratches","pos":[1561.5633544921875,158.681396484375],"size":[270,130],"flags":{},"order":22,"mode":4,"inputs":[{"label":"image","localized_name":"image","name":"image","type":"IMAGE","link":62},{"label":"radius","localized_name":"radius","name":"radius","type":"FLOAT","widget":{"name":"radius"},"link":null},{"label":"threshold","localized_name":"threshold","name":"threshold","type":"FLOAT","widget":{"name":"threshold"},"link":null},{"label":"method","localized_name":"method","name":"method","type":"COMBO","widget":{"name":"method"},"link":null},{"label":"preserve_details","localized_name":"preserve_details","name":"preserve_details","type":"BOOLEAN","widget":{"name":"preserve_details"},"link":null}],"outputs":[{"label":"IMAGE","localized_name":"图像","name":"IMAGE","type":"IMAGE","links":[65]}],"properties":{"aux_id":"dogami567/dogami_nodes","ver":"b4328406cd0bdde0eb71bb42809dcdd0dd9a9477","widget_ue_connectable":{}},"widgets_values":[2.5,8,"opencv_denoise (OpenCV去噪)",true]},{"id":49,"type":"CR Upscale Image","pos":[-116.8926010131836,374.6940002441406],"size":[270,222],"flags":{},"order":9,"mode":4,"inputs":[{"label":"image","localized_name":"image","name":"image","type":"IMAGE","link":74},{"label":"upscale_model","localized_name":"upscale_model","name":"upscale_model","type":"COMBO","widget":{"name":"upscale_model"},"link":null},{"label":"mode","localized_name":"mode","name":"mode","type":"COMBO","widget":{"name":"mode"},"link":null},{"label":"rescale_factor","localized_name":"rescale_factor","name":"rescale_factor","type":"FLOAT","widget":{"name":"rescale_factor"},"link":null},{"label":"resize_width","localized_name":"resize_width","name":"resize_width","type":"INT","widget":{"name":"resize_width"},"link":null},{"label":"resampling_method","localized_name":"resampling_method","name":"resampling_method","type":"COMBO","widget":{"name":"resampling_method"},"link":null},{"label":"supersample","localized_name":"supersample","name":"supersample","type":"COMBO","widget":{"name":"supersample"},"link":null},{"label":"rounding_modulus","localized_name":"rounding_modulus","name":"rounding_modulus","type":"INT","widget":{"name":"rounding_modulus"},"link":null}],"outputs":[{"label":"IMAGE","localized_name":"图像","name":"IMAGE","type":"IMAGE","links":[75]},{"label":"show_help","localized_name":"show_help","name":"show_help","type":"STRING","links":null}],"properties":{"cnr_id":"ComfyUI_Comfyroll_CustomNodes","ver":"d78b780ae43fcf8c6b7c6505e6ffb4584281ceca","widget_ue_connectable":{}},"widgets_values":["4x_IllustrationJaNai_V1_DAT2_190k.pth","rescale",1.0000000000000002,1024,"bilinear","true",8]},{"id":44,"type":"ImageToMask","pos":[1297.79736328125,409.52667236328125],"size":[270,58],"flags":{"collapsed":true},"order":29,"mode":0,"inputs":[{"label":"image","localized_name":"图像","name":"image","type":"IMAGE","link":125},{"label":"channel","localized_name":"通道","name":"channel","type":"COMBO","widget":{"name":"channel"},"link":null}],"outputs":[{"label":"MASK","localized_name":"遮罩","name":"MASK","type":"MASK","links":[82]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.47","widget_ue_connectable":{}},"widgets_values":["red"]},{"id":46,"type":"GrowMaskWithBlur","pos":[1379.4058837890625,562.6980590820312],"size":[292.748046875,246],"flags":{},"order":31,"mode":4,"inputs":[{"label":"mask","localized_name":"mask","name":"mask","type":"MASK","link":83},{"label":"expand","localized_name":"expand","name":"expand","type":"INT","widget":{"name":"expand"},"link":null},{"label":"incremental_expandrate","localized_name":"incremental_expandrate","name":"incremental_expandrate","type":"FLOAT","widget":{"name":"incremental_expandrate"},"link":null},{"label":"tapered_corners","localized_name":"tapered_corners","name":"tapered_corners","type":"BOOLEAN","widget":{"name":"tapered_corners"},"link":null},{"label":"flip_input","localized_name":"flip_input","name":"flip_input","type":"BOOLEAN","widget":{"name":"flip_input"},"link":null},{"label":"blur_radius","localized_name":"blur_radius","name":"blur_radius","type":"FLOAT","widget":{"name":"blur_radius"},"link":null},{"label":"lerp_alpha","localized_name":"lerp_alpha","name":"lerp_alpha","type":"FLOAT","widget":{"name":"lerp_alpha"},"link":null},{"label":"decay_factor","localized_name":"decay_factor","name":"decay_factor","type":"FLOAT","widget":{"name":"decay_factor"},"link":null},{"label":"fill_holes","localized_name":"fill_holes","name":"fill_holes","shape":7,"type":"BOOLEAN","widget":{"name":"fill_holes"},"link":null}],"outputs":[{"label":"mask","localized_name":"mask","name":"mask","type":"MASK","links":[68]},{"label":"mask_inverted","localized_name":"mask_inverted","name":"mask_inverted","type":"MASK","links":null}],"properties":{"cnr_id":"comfyui-kjnodes","ver":"22e722bafec15ffc9f4d6e9b89f352cfd0b2a402","widget_ue_connectable":{}},"widgets_values":[2,0.8,true,false,0,1,1,false]},{"id":26,"type":"BilateralFilterMask","pos":[1712.3289794921875,586.98681640625],"size":[284.2720642089844,106],"flags":{},"order":32,"mode":4,"inputs":[{"label":"mask","localized_name":"mask","name":"mask","type":"MASK","link":68},{"label":"diameter","localized_name":"diameter","name":"diameter","type":"INT","widget":{"name":"diameter"},"link":null},{"label":"sigma_color","localized_name":"sigma_color","name":"sigma_color","type":"FLOAT","widget":{"name":"sigma_color"},"link":null},{"label":"sigma_space","localized_name":"sigma_space","name":"sigma_space","type":"FLOAT","widget":{"name":"sigma_space"},"link":null}],"outputs":[{"label":"MASK","localized_name":"遮罩","name":"MASK","type":"MASK","links":[78]}],"properties":{"aux_id":"dogami567/dogami_nodes","ver":"f206415f248470bf17677c86d9b3d7b5df544fe4","widget_ue_connectable":{}},"widgets_values":[20,50,50]},{"id":65,"type":"PreviewImage","pos":[3096.51513671875,-247.7350311279297],"size":[140,246],"flags":{},"order":27,"mode":0,"inputs":[{"label":"images","localized_name":"图像","name":"images","type":"IMAGE","link":99}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.47","widget_ue_connectable":{}},"widgets_values":[]},{"id":64,"type":"PreviewImage","pos":[3245.78076171875,-246.9130096435547],"size":[140,246],"flags":{},"order":28,"mode":0,"inputs":[{"label":"images","localized_name":"图像","name":"images","type":"IMAGE","link":124}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.47","widget_ue_connectable":{}},"widgets_values":[]},{"id":54,"type":"InvertMask","pos":[2396.324951171875,549.0477294921875],"size":[140,26],"flags":{},"order":33,"mode":4,"inputs":[{"label":"mask","localized_name":"遮罩","name":"mask","type":"MASK","link":78}],"outputs":[{"label":"MASK","localized_name":"遮罩","name":"MASK","type":"MASK","links":[79,80]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.47","widget_ue_connectable":{}},"widgets_values":[]},{"id":16,"type":"PreviewImage","pos":[1501.1102294921875,1128.8837890625],"size":[620.5072021484375,646.5426025390625],"flags":{},"order":36,"mode":0,"inputs":[{"label":"images","localized_name":"图像","name":"images","type":"IMAGE","link":18}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.42","widget_ue_connectable":{}},"widgets_values":[]},{"id":15,"type":"ApplyColorTransform","pos":[1999.5458984375,739.4737548828125],"size":[240.87655639648438,86],"flags":{},"order":34,"mode":0,"inputs":[{"label":"source_image","localized_name":"source_image","name":"source_image","type":"IMAGE","link":42},{"label":"analysis_data","localized_name":"analysis_data","name":"analysis_data","type":"DATA_BLOB","link":114},{"label":"mapping_data","localized_name":"mapping_data","name":"mapping_data","type":"DATA_BLOB","link":105},{"label":"smooth_masks","localized_name":"smooth_masks","name":"smooth_masks","type":"MASK","link":79}],"outputs":[{"label":"transformed_image","localized_name":"transformed_image","name":"transformed_image","type":"IMAGE","links":[18,33,57]},{"label":"combined_mask","localized_name":"combined_mask","name":"combined_mask","type":"MASK","links":[84]}],"properties":{"aux_id":"dogami567/dogami_nodes","ver":"221f18ae3070338f23896cfea7b6d4075d758f12","widget_ue_connectable":{}},"widgets_values":[]},{"id":29,"type":"ImageScaleBy","pos":[395.6435241699219,748.0713500976562],"size":[270,82],"flags":{},"order":14,"mode":0,"inputs":[{"label":"image","localized_name":"图像","name":"image","type":"IMAGE","link":55},{"label":"upscale_method","localized_name":"缩放算法","name":"upscale_method","type":"COMBO","widget":{"name":"upscale_method"},"link":null},{"label":"scale_by","localized_name":"缩放系数","name":"scale_by","type":"FLOAT","widget":{"name":"scale_by"},"link":null}],"outputs":[{"label":"IMAGE","localized_name":"图像","name":"IMAGE","type":"IMAGE","links":[40,42]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.42","widget_ue_connectable":{}},"widgets_values":["bilinear",1.0000000000000002]},{"id":69,"type":"ColorMapper","pos":[1144.3226318359375,863.9738159179688],"size":[220.470703125,46],"flags":{},"order":19,"mode":0,"inputs":[{"label":"analysis_data","localized_name":"analysis_data","name":"analysis_data","type":"DATA_BLOB","link":115},{"label":"target_hex_palette","localized_name":"target_hex_palette","name":"target_hex_palette","type":"DATA_BLOB","link":110}],"outputs":[{"label":"mapping_data","localized_name":"mapping_data","name":"mapping_data","type":"DATA_BLOB","links":[105]}],"properties":{"aux_id":"dogami567/dogami_nodes","ver":"3a273357df438c64eff2a8bcbb3e01d1be2a38e1","widget_ue_connectable":{}},"widgets_values":[]},{"id":70,"type":"PaletteImageToHexArray","pos":[521.5062255859375,907.2007446289062],"size":[269.4302673339844,26],"flags":{},"order":8,"mode":0,"inputs":[{"label":"palette_image","localized_name":"palette_image","name":"palette_image","type":"IMAGE","link":120}],"outputs":[{"label":"hex_array","localized_name":"hex_array","name":"hex_array","type":"DATA_BLOB","links":[109]}],"properties":{"aux_id":"dogami567/dogami_nodes","ver":"3a273357df438c64eff2a8bcbb3e01d1be2a38e1","widget_ue_connectable":{}},"widgets_values":[]},{"id":25,"type":"MaskPreview+","pos":[2616.3984375,-3.8655200004577637],"size":[746.8062133789062,393.7616882324219],"flags":{},"order":35,"mode":0,"inputs":[{"label":"mask","localized_name":"mask","name":"mask","type":"MASK","link":80}],"outputs":[],"properties":{"cnr_id":"comfyui_essentials","ver":"9d9f4bedfc9f0321c19faf71855e228c93bd0dc9","widget_ue_connectable":{}},"widgets_values":[]},{"id":66,"type":"LoadImage","pos":[-1291.6932373046875,2479.706787109375],"size":[241.28648376464844,365.8155517578125],"flags":{},"order":0,"mode":0,"inputs":[{"label":"image","localized_name":"图像","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"label":"upload","localized_name":"选择文件上传","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"label":"IMAGE","localized_name":"图像","name":"IMAGE","type":"IMAGE","links":[]},{"label":"MASK","localized_name":"遮罩","name":"MASK","type":"MASK","links":null}],"title":"自定义色板","properties":{"cnr_id":"comfy-core","ver":"0.3.47","widget_ue_connectable":{}},"widgets_values":["pasted/image (76).png","image"]},{"id":11,"type":"AnalyzeImageColors","pos":[396.5810241699219,465.6731872558594],"size":[298.3062438964844,174],"flags":{},"order":15,"mode":0,"inputs":[{"label":"image","localized_name":"image","name":"image","type":"IMAGE","link":40},{"label":"num_colors","localized_name":"num_colors","name":"num_colors","type":"INT","widget":{"name":"num_colors"},"link":122},{"label":"neutral_threshold_sat","localized_name":"neutral_threshold_sat","name":"neutral_threshold_sat","type":"FLOAT","widget":{"name":"neutral_threshold_sat"},"link":null},{"label":"neutral_threshold_lum","localized_name":"neutral_threshold_lum","name":"neutral_threshold_lum","type":"FLOAT","widget":{"name":"neutral_threshold_lum"},"link":null},{"label":"seed_mode","localized_name":"seed_mode","name":"seed_mode","type":"COMBO","widget":{"name":"seed_mode"},"link":null},{"label":"seed_value","localized_name":"seed_value","name":"seed_value","type":"INT","widget":{"name":"seed_value"},"link":null}],"outputs":[{"label":"palette_out","localized_name":"palette_out","name":"palette_out","type":"IMAGE","links":[117]},{"label":"analysis_data","localized_name":"analysis_data","name":"analysis_data","type":"DATA_BLOB","links":[112]}],"properties":{"aux_id":"dogami567/dogami_nodes","ver":"221f18ae3070338f23896cfea7b6d4075d758f12","widget_ue_connectable":{}},"widgets_values":[3,0.1,0.05,"fixed",42]},{"id":22,"type":"AnalyzeImageColors","pos":[28.28943634033203,1009.7069091796875],"size":[298.3062438964844,174],"flags":{},"order":5,"mode":0,"inputs":[{"label":"image","localized_name":"image","name":"image","type":"IMAGE","link":28},{"label":"num_colors","localized_name":"num_colors","name":"num_colors","type":"INT","widget":{"name":"num_colors"},"link":121},{"label":"neutral_threshold_sat","localized_name":"neutral_threshold_sat","name":"neutral_threshold_sat","type":"FLOAT","widget":{"name":"neutral_threshold_sat"},"link":null},{"label":"neutral_threshold_lum","localized_name":"neutral_threshold_lum","name":"neutral_threshold_lum","type":"FLOAT","widget":{"name":"neutral_threshold_lum"},"link":null},{"label":"seed_mode","localized_name":"seed_mode","name":"seed_mode","type":"COMBO","widget":{"name":"seed_mode"},"link":null},{"label":"seed_value","localized_name":"seed_value","name":"seed_value","type":"INT","widget":{"name":"seed_value"},"link":null}],"outputs":[{"label":"palette_out","localized_name":"palette_out","name":"palette_out","type":"IMAGE","links":[118,120]},{"label":"analysis_data","localized_name":"analysis_data","name":"analysis_data","type":"DATA_BLOB","links":null}],"properties":{"aux_id":"dogami567/dogami_nodes","ver":"f206415f248470bf17677c86d9b3d7b5df544fe4","widget_ue_connectable":{}},"widgets_values":[3,0.1,0.05,"fixed",42]},{"id":74,"type":"PreviewImage","pos":[-870,2340],"size":[238.52099609375,342.8266296386719],"flags":{},"order":16,"mode":0,"inputs":[{"label":"images","localized_name":"图像","name":"images","type":"IMAGE","link":117}],"outputs":[],"title":"排序前（原图）","properties":{"cnr_id":"comfy-core","ver":"0.3.42","widget_ue_connectable":{}},"widgets_values":[]},{"id":19,"type":"PreviewImage","pos":[-390.35089111328125,2336.959228515625],"size":[216.0819091796875,343.58697509765625],"flags":{},"order":20,"mode":0,"inputs":[{"label":"images","localized_name":"图像","name":"images","type":"IMAGE","link":111}],"outputs":[],"title":"排序后（原图）","properties":{"cnr_id":"comfy-core","ver":"0.3.42","widget_ue_connectable":{}},"widgets_values":[]},{"id":75,"type":"PreviewImage","pos":[-634.6782836914062,2336.315185546875],"size":[249.0592041015625,346.1871337890625],"flags":{},"order":7,"mode":0,"inputs":[{"label":"images","localized_name":"图像","name":"images","type":"IMAGE","link":118}],"outputs":[],"title":"排序前（用户图）","properties":{"cnr_id":"comfy-core","ver":"0.3.42","widget_ue_connectable":{}},"widgets_values":[]},{"id":17,"type":"PreviewImage","pos":[-176.899658203125,2337.394287109375],"size":[267.26715087890625,344.8175048828125],"flags":{},"order":12,"mode":0,"inputs":[{"label":"images","localized_name":"图像","name":"images","type":"IMAGE","link":116}],"outputs":[],"title":"排序后（用户图）","properties":{"cnr_id":"comfy-core","ver":"0.3.42","widget_ue_connectable":{}},"widgets_values":[]},{"id":47,"type":"Morphology","pos":[2009.2818603515625,75.77632904052734],"size":[270,82],"flags":{},"order":25,"mode":4,"inputs":[{"label":"image","localized_name":"图像","name":"image","type":"IMAGE","link":98},{"label":"operation","localized_name":"操作","name":"operation","type":"COMBO","widget":{"name":"operation"},"link":null},{"label":"kernel_size","localized_name":"核心大小","name":"kernel_size","type":"INT","widget":{"name":"kernel_size"},"link":null}],"outputs":[{"label":"IMAGE","localized_name":"图像","name":"IMAGE","type":"IMAGE","links":[99]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.47","widget_ue_connectable":{}},"widgets_values":["open",3]},{"id":62,"type":"ImageResizeKJv2","pos":[-759.909912109375,401.51153564453125],"size":[270,336.0000305175781],"flags":{},"order":4,"mode":0,"inputs":[{"label":"image","localized_name":"image","name":"image","type":"IMAGE","link":91},{"label":"mask","localized_name":"mask","name":"mask","shape":7,"type":"MASK","link":null},{"label":"width","localized_name":"width","name":"width","type":"INT","widget":{"name":"width"},"link":null},{"label":"height","localized_name":"height","name":"height","type":"INT","widget":{"name":"height"},"link":null},{"label":"upscale_method","localized_name":"upscale_method","name":"upscale_method","type":"COMBO","widget":{"name":"upscale_method"},"link":null},{"label":"keep_proportion","localized_name":"keep_proportion","name":"keep_proportion","type":"COMBO","widget":{"name":"keep_proportion"},"link":null},{"label":"pad_color","localized_name":"pad_color","name":"pad_color","type":"STRING","widget":{"name":"pad_color"},"link":null},{"label":"crop_position","localized_name":"crop_position","name":"crop_position","type":"COMBO","widget":{"name":"crop_position"},"link":null},{"label":"divisible_by","localized_name":"divisible_by","name":"divisible_by","type":"INT","widget":{"name":"divisible_by"},"link":null},{"label":"device","localized_name":"device","name":"device","shape":7,"type":"COMBO","widget":{"name":"device"},"link":null}],"outputs":[{"label":"IMAGE","localized_name":"图像","name":"IMAGE","type":"IMAGE","links":[92,93,94]},{"label":"width","localized_name":"width","name":"width","type":"INT","links":null},{"label":"height","localized_name":"height","name":"height","type":"INT","links":null},{"label":"mask","localized_name":"mask","name":"mask","type":"MASK","links":null}],"properties":{"cnr_id":"comfyui-kjnodes","ver":"22e722bafec15ffc9f4d6e9b89f352cfd0b2a402","widget_ue_connectable":{}},"widgets_values":[1560,1560,"bilinear","resize","0, 0, 0","center",2,"cpu","<tr><td>Output: </td><td><b>1</b> x <b>1560</b> x <b>1560 | 27.85MB</b></td></tr>"]},{"id":48,"type":"CR Upscale Image","pos":[-432.65008544921875,421.83721923828125],"size":[270,222],"flags":{},"order":6,"mode":0,"inputs":[{"label":"image","localized_name":"image","name":"image","type":"IMAGE","link":92},{"label":"upscale_model","localized_name":"upscale_model","name":"upscale_model","type":"COMBO","widget":{"name":"upscale_model"},"link":null},{"label":"mode","localized_name":"mode","name":"mode","type":"COMBO","widget":{"name":"mode"},"link":null},{"label":"rescale_factor","localized_name":"rescale_factor","name":"rescale_factor","type":"FLOAT","widget":{"name":"rescale_factor"},"link":null},{"label":"resize_width","localized_name":"resize_width","name":"resize_width","type":"INT","widget":{"name":"resize_width"},"link":null},{"label":"resampling_method","localized_name":"resampling_method","name":"resampling_method","type":"COMBO","widget":{"name":"resampling_method"},"link":null},{"label":"supersample","localized_name":"supersample","name":"supersample","type":"COMBO","widget":{"name":"supersample"},"link":null},{"label":"rounding_modulus","localized_name":"rounding_modulus","name":"rounding_modulus","type":"INT","widget":{"name":"rounding_modulus"},"link":null}],"outputs":[{"label":"IMAGE","localized_name":"图像","name":"IMAGE","type":"IMAGE","links":[74]},{"label":"show_help","localized_name":"show_help","name":"show_help","type":"STRING","links":null}],"properties":{"cnr_id":"ComfyUI_Comfyroll_CustomNodes","ver":"d78b780ae43fcf8c6b7c6505e6ffb4584281ceca","widget_ue_connectable":{}},"widgets_values":["4xNomos8k_atd_jpg.safetensors","rescale",2,1024,"bilinear","true",1024]},{"id":73,"type":"SortHexPalette","pos":[-1201.43798828125,2096.78857421875],"size":[270,198],"flags":{},"order":10,"mode":0,"inputs":[{"label":"hex_array","localized_name":"hex_array","name":"hex_array","type":"DATA_BLOB","link":109},{"label":"combine_mode","localized_name":"combine_mode","name":"combine_mode","type":"COMBO","widget":{"name":"combine_mode"},"link":null},{"label":"balance","localized_name":"balance","name":"balance","type":"FLOAT","widget":{"name":"balance"},"link":null},{"label":"order","localized_name":"order","name":"order","type":"COMBO","widget":{"name":"order"},"link":null},{"label":"normalize","localized_name":"normalize","name":"normalize","type":"BOOLEAN","widget":{"name":"normalize"},"link":null},{"label":"validate_hex","localized_name":"validate_hex","name":"validate_hex","type":"BOOLEAN","widget":{"name":"validate_hex"},"link":null}],"outputs":[{"label":"hex_array","localized_name":"hex_array","name":"hex_array","type":"DATA_BLOB","links":[110]},{"label":"palette_out","localized_name":"palette_out","name":"palette_out","type":"IMAGE","links":[116]}],"properties":{"aux_id":"dogami567/dogami_nodes","ver":"97827aec72f28b7cf35737398c45d77eced2c7af","widget_ue_connectable":{}},"widgets_values":["sum",1,"desc","asc",true]},{"id":50,"type":"InvertMask","pos":[1168.6163330078125,554.4862060546875],"size":[140,26],"flags":{},"order":30,"mode":4,"inputs":[{"label":"mask","localized_name":"遮罩","name":"mask","type":"MASK","link":82}],"outputs":[{"label":"MASK","localized_name":"遮罩","name":"MASK","type":"MASK","links":[83]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.47","widget_ue_connectable":{}},"widgets_values":[]},{"id":21,"type":"DecomposeIndexMap","pos":[888.1995239257812,276.1414794921875],"size":[305.3199157714844,58],"flags":{},"order":18,"mode":0,"inputs":[{"label":"analysis_data","localized_name":"analysis_data","name":"analysis_data","type":"DATA_BLOB","link":113},{"label":"blur_radius","localized_name":"blur_radius","name":"blur_radius","type":"FLOAT","widget":{"name":"blur_radius"},"link":null}],"outputs":[{"label":"smooth_masks","localized_name":"smooth_masks","name":"smooth_masks","type":"MASK","links":[81]}],"properties":{"aux_id":"dogami567/dogami_nodes","ver":"f206415f248470bf17677c86d9b3d7b5df544fe4","widget_ue_connectable":{}},"widgets_values":[0.7000000000000001]},{"id":79,"type":"MorphologicalOperations","pos":[2202.651611328125,285.7837829589844],"size":[342.6441345214844,226],"flags":{},"order":26,"mode":4,"inputs":[{"label":"image","localized_name":"image","name":"image","type":"IMAGE","link":123},{"label":"operation","localized_name":"operation","name":"operation","type":"COMBO","widget":{"name":"operation"},"link":null},{"label":"kernel_size","localized_name":"kernel_size","name":"kernel_size","type":"INT","widget":{"name":"kernel_size"},"link":null},{"label":"kernel_shape","localized_name":"kernel_shape","name":"kernel_shape","type":"COMBO","widget":{"name":"kernel_shape"},"link":null},{"label":"iterations","localized_name":"iterations","name":"iterations","type":"INT","widget":{"name":"iterations"},"link":null},{"label":"target_channel","localized_name":"target_channel","name":"target_channel","shape":7,"type":"COMBO","widget":{"name":"target_channel"},"link":null}],"outputs":[{"label":"IMAGE","localized_name":"图像","name":"IMAGE","type":"IMAGE","links":[124,125]}],"properties":{"aux_id":"dogami567/dogami_nodes","ver":"24d679da9f654ca8357a69e71a69ded482259425","widget_ue_connectable":{}},"widgets_values":["close (闭运算)",5,"rectangle (矩形)",8,"grayscale (灰度)"]},{"id":45,"type":"DustAndScratches","pos":[1539.2542724609375,347.3458251953125],"size":[270,130],"flags":{},"order":23,"mode":0,"inputs":[{"label":"image","localized_name":"image","name":"image","type":"IMAGE","link":65},{"label":"radius","localized_name":"radius","name":"radius","type":"FLOAT","widget":{"name":"radius"},"link":null},{"label":"threshold","localized_name":"threshold","name":"threshold","type":"FLOAT","widget":{"name":"threshold"},"link":null},{"label":"method","localized_name":"method","name":"method","type":"COMBO","widget":{"name":"method"},"link":null},{"label":"preserve_details","localized_name":"preserve_details","name":"preserve_details","type":"BOOLEAN","widget":{"name":"preserve_details"},"link":null}],"outputs":[{"label":"IMAGE","localized_name":"图像","name":"IMAGE","type":"IMAGE","links":[95,98]}],"properties":{"aux_id":"dogami567/dogami_nodes","ver":"b4328406cd0bdde0eb71bb42809dcdd0dd9a9477","widget_ue_connectable":{}},"widgets_values":[0.4,0.8,"ps_like (仿PS算法)",false]},{"id":24,"type":"Image Comparer (rgthree)","pos":[-329.1947937011719,1558.963134765625],"size":[429.96044921875,636.1110229492188],"flags":{},"order":37,"mode":0,"inputs":[{"dir":3,"label":"image_a","name":"image_a","type":"IMAGE","link":93},{"dir":3,"label":"image_b","name":"image_b","type":"IMAGE","link":33}],"outputs":[],"properties":{"cnr_id":"rgthree-comfy","ver":"9c01f224a8227ad1a7036b57c423c3906b93d115","comparer_mode":"Slide","widget_ue_connectable":{}},"widgets_values":[[{"name":"A","selected":true,"url":"/api/view?filename=rgthree.compare._temp_qfvmr_00075_.png&type=temp&subfolder=&rand=0.6287475172512659"},{"name":"B","selected":true,"url":"/api/view?filename=rgthree.compare._temp_qfvmr_00076_.png&type=temp&subfolder=&rand=0.8381954723592813"}]]},{"id":14,"type":"LoadImage","pos":[-2064.36474609375,1980.4215087890625],"size":[671.4956665039062,853.2056884765625],"flags":{},"order":1,"mode":0,"inputs":[{"label":"image","localized_name":"图像","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"label":"upload","localized_name":"选择文件上传","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"label":"IMAGE","localized_name":"图像","name":"IMAGE","type":"IMAGE","links":[28]},{"label":"MASK","localized_name":"遮罩","name":"MASK","type":"MASK","links":null}],"title":"参考色板","properties":{"cnr_id":"comfy-core","ver":"0.3.42","widget_ue_connectable":{}},"widgets_values":["c3620be746999cafc1c98c6a68ea3de.jpg","image"],"color":"#2a363b","bgcolor":"#3f5159"},{"id":10,"type":"LoadImage","pos":[-2031.0030517578125,829.4901733398438],"size":[644.7958374023438,1014.0848388671875],"flags":{},"order":2,"mode":0,"inputs":[{"label":"image","localized_name":"图像","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"label":"upload","localized_name":"选择文件上传","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"label":"IMAGE","localized_name":"图像","name":"IMAGE","type":"IMAGE","links":[91]},{"label":"MASK","localized_name":"遮罩","name":"MASK","type":"MASK","links":null}],"title":"原图","properties":{"cnr_id":"comfy-core","ver":"0.3.42","widget_ue_connectable":{}},"widgets_values":["ComfyUI_temp_fmdza_00004_.png","image"],"color":"#223","bgcolor":"#335"},{"id":78,"type":"easy int","pos":[-1231.7464599609375,1851.1737060546875],"size":[270,58],"flags":{"collapsed":false},"order":3,"mode":0,"inputs":[{"label":"value","localized_name":"值","name":"value","type":"INT","widget":{"name":"value"},"link":null}],"outputs":[{"label":"int","localized_name":"整数","name":"int","type":"INT","links":[121,122]}],"title":"聚类颜色数","properties":{"cnr_id":"comfyui-easy-use","ver":"1.3.0","widget_ue_connectable":{}},"widgets_values":[5],"color":"#223","bgcolor":"#335"},{"id":72,"type":"SortAnalysisColors","pos":[-1203.580078125,1330.6094970703125],"size":[287.3960876464844,174],"flags":{},"order":17,"mode":0,"inputs":[{"label":"analysis_data","localized_name":"analysis_data","name":"analysis_data","type":"DATA_BLOB","link":112},{"label":"combine_mode","localized_name":"combine_mode","name":"combine_mode","type":"COMBO","widget":{"name":"combine_mode"},"link":null},{"label":"balance","localized_name":"balance","name":"balance","type":"FLOAT","widget":{"name":"balance"},"link":null},{"label":"order","localized_name":"order","name":"order","type":"COMBO","widget":{"name":"order"},"link":null},{"label":"normalize","localized_name":"normalize","name":"normalize","type":"BOOLEAN","widget":{"name":"normalize"},"link":null}],"outputs":[{"label":"analysis_data","localized_name":"analysis_data","name":"analysis_data","type":"DATA_BLOB","links":[113,114,115]},{"label":"palette_out","localized_name":"palette_out","name":"palette_out","type":"IMAGE","links":[111]}],"properties":{"aux_id":"dogami567/dogami_nodes","ver":"97827aec72f28b7cf35737398c45d77eced2c7af","widget_ue_connectable":{}},"widgets_values":["sum",1,"desc","asc"]},{"id":55,"type":"MaskPreview+","pos":[2556.024658203125,1161.804931640625],"size":[488.818115234375,565.7029418945312],"flags":{},"order":39,"mode":0,"inputs":[{"label":"mask","localized_name":"mask","name":"mask","type":"MASK","link":84}],"outputs":[],"properties":{"cnr_id":"comfyui_essentials","ver":"9d9f4bedfc9f0321c19faf71855e228c93bd0dc9","widget_ue_connectable":{}},"widgets_values":[]},{"id":63,"type":"MorphologicalOperations","pos":[1848.416259765625,285.5382385253906],"size":[342.6441345214844,226],"flags":{},"order":24,"mode":0,"inputs":[{"label":"image","localized_name":"image","name":"image","type":"IMAGE","link":95},{"label":"operation","localized_name":"operation","name":"operation","type":"COMBO","widget":{"name":"operation"},"link":null},{"label":"kernel_size","localized_name":"kernel_size","name":"kernel_size","type":"INT","widget":{"name":"kernel_size"},"link":null},{"label":"kernel_shape","localized_name":"kernel_shape","name":"kernel_shape","type":"COMBO","widget":{"name":"kernel_shape"},"link":null},{"label":"iterations","localized_name":"iterations","name":"iterations","type":"INT","widget":{"name":"iterations"},"link":null},{"label":"target_channel","localized_name":"target_channel","name":"target_channel","shape":7,"type":"COMBO","widget":{"name":"target_channel"},"link":null}],"outputs":[{"label":"IMAGE","localized_name":"图像","name":"IMAGE","type":"IMAGE","links":[123]}],"properties":{"aux_id":"dogami567/dogami_nodes","ver":"24d679da9f654ca8357a69e71a69ded482259425","widget_ue_connectable":{}},"widgets_values":["open (开运算)",3,"rectangle (矩形)",3,"grayscale (灰度)"]}],"links":[[18,15,0,16,0,"IMAGE"],[28,14,0,22,0,"IMAGE"],[33,15,0,24,1,"IMAGE"],[40,29,0,11,0,"IMAGE"],[42,29,0,15,0,"IMAGE"],[54,36,0,37,0,"IMAGE"],[55,37,0,29,0,"IMAGE"],[56,39,0,38,0,"IMAGE"],[57,15,0,39,0,"IMAGE"],[58,38,0,41,0,"IMAGE"],[59,38,0,40,1,"IMAGE"],[62,43,0,42,0,"IMAGE"],[65,42,0,45,0,"IMAGE"],[68,46,0,26,0,"MASK"],[74,48,0,49,0,"IMAGE"],[75,49,0,36,0,"IMAGE"],[78,26,0,54,0,"MASK"],[79,54,0,15,3,"MASK"],[80,54,0,25,0,"MASK"],[81,21,0,43,0,"MASK"],[82,44,0,50,0,"MASK"],[83,50,0,46,0,"MASK"],[84,15,1,55,0,"MASK"],[91,10,0,62,0,"IMAGE"],[92,62,0,48,0,"IMAGE"],[93,62,0,24,0,"IMAGE"],[94,62,0,40,0,"IMAGE"],[95,45,0,63,0,"IMAGE"],[98,45,0,47,0,"IMAGE"],[99,47,0,65,0,"IMAGE"],[105,69,0,15,2,"DATA_BLOB"],[109,70,0,73,0,"DATA_BLOB"],[110,73,0,69,1,"DATA_BLOB"],[111,72,1,19,0,"IMAGE"],[112,11,1,72,0,"DATA_BLOB"],[113,72,0,21,0,"DATA_BLOB"],[114,72,0,15,1,"DATA_BLOB"],[115,72,0,69,0,"DATA_BLOB"],[116,73,1,17,0,"IMAGE"],[117,11,0,74,0,"IMAGE"],[118,22,0,75,0,"IMAGE"],[120,22,0,70,0,"IMAGE"],[121,78,0,22,1,"INT"],[122,78,0,11,1,"INT"],[123,63,0,79,0,"IMAGE"],[124,79,0,64,0,"IMAGE"],[125,79,0,44,0,"IMAGE"]],"groups":[],"config":{},"extra":{"workspace_info":{"id":"AfiTiay0ImNIfxDVU-ET-"},"ue_links":[],"ds":{"scale":1.1167815779424795,"offset":[1099.3019796448957,-1540.0414591058952]},"links_added_by_ue":[],"frontendVersion":"1.23.4","VHS_latentpreview":false,"VHS_latentpreviewrate":0,"VHS_MetadataImage":true,"VHS_KeepIntermediate":true},"version":0.4}
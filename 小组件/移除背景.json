{"id":"08653d14-418c-4833-b010-82f0a7594e10","revision":0,"last_node_id":45,"last_link_id":75,"nodes":[{"id":13,"type":"PreviewImage","pos":[769.97900390625,160.4770965576172],"size":[365.7895812988281,471.7895812988281],"flags":{},"order":3,"mode":0,"inputs":[{"label":"images","localized_name":"图像","name":"images","type":"IMAGE","link":12}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.47","widget_ue_connectable":{}},"widgets_values":[]},{"id":22,"type":"PreviewImage","pos":[1159.327880859375,164.53697204589844],"size":[140,246],"flags":{},"order":4,"mode":0,"inputs":[{"label":"images","localized_name":"图像","name":"images","type":"IMAGE","link":34}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.47","widget_ue_connectable":{}},"widgets_values":[]},{"id":28,"type":"PreviewImage","pos":[1692.9786376953125,1050.5240478515625],"size":[316.0657043457031,454.445556640625],"flags":{},"order":16,"mode":0,"inputs":[{"label":"images","localized_name":"图像","name":"images","type":"IMAGE","link":40}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.47","widget_ue_connectable":{}},"widgets_values":[]},{"id":30,"type":"PreviewImage","pos":[1669.5762939453125,151.34165954589844],"size":[372.8224792480469,583.4132690429688],"flags":{},"order":10,"mode":0,"inputs":[{"label":"images","localized_name":"图像","name":"images","type":"IMAGE","link":46}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.47","widget_ue_connectable":{}},"widgets_values":[]},{"id":29,"type":"LaMaInpaint","pos":[1330.9232177734375,306.121826171875],"size":[270,78],"flags":{},"order":7,"mode":0,"inputs":[{"label":"image","localized_name":"image","name":"image","type":"IMAGE","link":44},{"label":"mask","localized_name":"mask","name":"mask","type":"MASK","link":47},{"label":"device_mode","localized_name":"device_mode","name":"device_mode","shape":7,"type":"COMBO","widget":{"name":"device_mode"},"link":null}],"outputs":[{"label":"IMAGE","localized_name":"图像","name":"IMAGE","type":"IMAGE","links":[46,48]}],"properties":{"widget_ue_connectable":{}},"widgets_values":["AUTO"]},{"id":32,"type":"PreviewImage","pos":[2558.64501953125,277.24578857421875],"size":[331.5137023925781,448.8625793457031],"flags":{},"order":15,"mode":0,"inputs":[{"label":"images","localized_name":"图像","name":"images","type":"IMAGE","link":49}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.47","widget_ue_connectable":{}},"widgets_values":[]},{"id":31,"type":"RMBG","pos":[2151.202880859375,245.2600555419922],"size":[340,302],"flags":{},"order":11,"mode":0,"inputs":[{"label":"image","localized_name":"图像","name":"image","type":"IMAGE","link":48},{"label":"model","localized_name":"模型","name":"model","type":"COMBO","widget":{"name":"model"},"link":null},{"label":"sensitivity","localized_name":"灵敏度","name":"sensitivity","shape":7,"type":"FLOAT","widget":{"name":"sensitivity"},"link":null},{"label":"process_res","localized_name":"处理分辨率","name":"process_res","shape":7,"type":"INT","widget":{"name":"process_res"},"link":null},{"label":"mask_blur","localized_name":"遮罩模糊","name":"mask_blur","shape":7,"type":"INT","widget":{"name":"mask_blur"},"link":null},{"label":"mask_offset","localized_name":"遮罩偏移","name":"mask_offset","shape":7,"type":"INT","widget":{"name":"mask_offset"},"link":null},{"label":"invert_output","localized_name":"反转输出","name":"invert_output","shape":7,"type":"BOOLEAN","widget":{"name":"invert_output"},"link":null},{"label":"refine_foreground","localized_name":"精细前景优化","name":"refine_foreground","shape":7,"type":"BOOLEAN","widget":{"name":"refine_foreground"},"link":null},{"label":"background","localized_name":"背景类型","name":"background","shape":7,"type":"COMBO","widget":{"name":"background"},"link":null},{"label":"background_color","localized_name":"背景颜色","name":"background_color","shape":7,"type":"COLOR","widget":{"name":"background_color"},"link":null}],"outputs":[{"label":"IMAGE","localized_name":"图像","name":"IMAGE","type":"IMAGE","links":[49]},{"label":"MASK","localized_name":"遮罩","name":"MASK","type":"MASK","links":null},{"label":"MASK_IMAGE","localized_name":"遮罩图像","name":"MASK_IMAGE","type":"IMAGE","links":null}],"properties":{"cnr_id":"comfyui-rmbg","ver":"2.6.0","widget_ue_connectable":{}},"widgets_values":["RMBG-2.0",1,1024,0,0,false,false,"Alpha","#ffffff"],"color":"#222e40","bgcolor":"#364254"},{"id":36,"type":"MaskPreview+","pos":[346.9200439453125,579.9226684570312],"size":[355.29351806640625,334.4088134765625],"flags":{},"order":5,"mode":0,"inputs":[{"label":"mask","localized_name":"mask","name":"mask","type":"MASK","link":53}],"outputs":[],"properties":{"cnr_id":"comfyui_essentials","ver":"9d9f4bedfc9f0321c19faf71855e228c93bd0dc9","widget_ue_connectable":{}},"widgets_values":[]},{"id":16,"type":"LayerMask: SegmentAnythingUltra V2","pos":[-87.11263275146484,828.2091064453125],"size":[390.8785095214844,366],"flags":{},"order":2,"mode":0,"inputs":[{"label":"image","localized_name":"图像","name":"image","type":"IMAGE","link":16},{"label":"sam_model","localized_name":"SAM模型","name":"sam_model","type":"COMBO","widget":{"name":"sam_model"},"link":null},{"label":"grounding_dino_model","localized_name":"Grounding Dino模型","name":"grounding_dino_model","type":"COMBO","widget":{"name":"grounding_dino_model"},"link":null},{"label":"threshold","localized_name":"阈值","name":"threshold","type":"FLOAT","widget":{"name":"threshold"},"link":null},{"label":"detail_method","localized_name":"细节方法","name":"detail_method","type":"COMBO","widget":{"name":"detail_method"},"link":null},{"label":"detail_erode","localized_name":"细节腐蚀","name":"detail_erode","type":"INT","widget":{"name":"detail_erode"},"link":null},{"label":"detail_dilate","localized_name":"细节膨胀","name":"detail_dilate","type":"INT","widget":{"name":"detail_dilate"},"link":null},{"label":"black_point","localized_name":"黑点","name":"black_point","type":"FLOAT","widget":{"name":"black_point"},"link":null},{"label":"white_point","localized_name":"白点","name":"white_point","type":"FLOAT","widget":{"name":"white_point"},"link":null},{"label":"process_detail","localized_name":"处理细节","name":"process_detail","type":"BOOLEAN","widget":{"name":"process_detail"},"link":null},{"label":"prompt","localized_name":"提示","name":"prompt","type":"STRING","widget":{"name":"prompt"},"link":null},{"label":"device","localized_name":"设备","name":"device","type":"COMBO","widget":{"name":"device"},"link":null},{"label":"max_megapixels","localized_name":"最大百万像素","name":"max_megapixels","type":"FLOAT","widget":{"name":"max_megapixels"},"link":null},{"label":"cache_model","localized_name":"缓存模型","name":"cache_model","type":"BOOLEAN","widget":{"name":"cache_model"},"link":null}],"outputs":[{"label":"image","localized_name":"image","name":"image","type":"IMAGE","links":[17,64]},{"label":"mask","localized_name":"mask","name":"mask","type":"MASK","links":[47,52,55]}],"properties":{"cnr_id":"comfyui_layerstyle","ver":"1.0.90","widget_ue_connectable":{}},"widgets_values":["sam_vit_h (2.56GB)","GroundingDINO_SwinT_OGC (694MB)",0.3,"VITMatte",6,6,0.15,0.99,true,"dog","cuda",2,false],"color":"rgba(27, 80, 119, 0.7)"},{"id":15,"type":"PreviewImage","pos":[789.1351318359375,1115.7923583984375],"size":[336.9007568359375,412.4913024902344],"flags":{},"order":6,"mode":0,"inputs":[{"label":"images","localized_name":"图像","name":"images","type":"IMAGE","link":17}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.47","widget_ue_connectable":{}},"widgets_values":[]},{"id":25,"type":"ImageCompositeMasked","pos":[1306.0419921875,1093.4549560546875],"size":[270,146],"flags":{},"order":13,"mode":0,"inputs":[{"label":"destination","localized_name":"目标图像","name":"destination","type":"IMAGE","link":63},{"label":"source","localized_name":"来源图像","name":"source","type":"IMAGE","link":64},{"label":"mask","localized_name":"遮罩","name":"mask","shape":7,"type":"MASK","link":57},{"label":"x","localized_name":"x","name":"x","type":"INT","widget":{"name":"x"},"link":null},{"label":"y","localized_name":"y","name":"y","type":"INT","widget":{"name":"y"},"link":null},{"label":"resize_source","localized_name":"缩放来源图像","name":"resize_source","type":"BOOLEAN","widget":{"name":"resize_source"},"link":null}],"outputs":[{"label":"IMAGE","localized_name":"图像","name":"IMAGE","type":"IMAGE","links":[40]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.47","widget_ue_connectable":{}},"widgets_values":[0,0,true]},{"id":34,"type":"MaskPreview+","pos":[430.3625183105469,1130.279296875],"size":[278.9431457519531,327.0497741699219],"flags":{},"order":8,"mode":0,"inputs":[{"label":"mask","localized_name":"mask","name":"mask","type":"MASK","link":52}],"outputs":[],"properties":{"cnr_id":"comfyui_essentials","ver":"9d9f4bedfc9f0321c19faf71855e228c93bd0dc9","widget_ue_connectable":{}},"widgets_values":[]},{"id":12,"type":"LoadImage","pos":[-126.9183120727539,175.5684814453125],"size":[320.8865051269531,533.1235961914062],"flags":{},"order":0,"mode":0,"inputs":[{"label":"image","localized_name":"图像","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"label":"upload","localized_name":"选择文件上传","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"label":"IMAGE","localized_name":"图像","name":"IMAGE","type":"IMAGE","links":[11,16,69]},{"label":"MASK","localized_name":"遮罩","name":"MASK","type":"MASK","links":null}],"properties":{"cnr_id":"comfy-core","ver":"0.3.47","widget_ue_connectable":{}},"widgets_values":["8b711d649ac6a37d1274d22e93e5e721.png","image"],"ndSuperSelectorEnabled":false,"ndPowerEnabled":false},{"id":44,"type":"JoinImageWithAlpha","pos":[1805.0361328125,802.6973876953125],"size":[140,46],"flags":{},"order":17,"mode":0,"inputs":[{"label":"image","localized_name":"图像","name":"image","type":"IMAGE","link":69},{"label":"alpha","localized_name":"阿尔法","name":"alpha","type":"MASK","link":75}],"outputs":[{"label":"IMAGE","localized_name":"图像","name":"IMAGE","type":"IMAGE","links":[71]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.47","widget_ue_connectable":{}},"widgets_values":[]},{"id":43,"type":"PreviewImage","pos":[2119.942138671875,801.9417724609375],"size":[474.50311279296875,449.7427978515625],"flags":{},"order":18,"mode":0,"inputs":[{"label":"images","localized_name":"图像","name":"images","type":"IMAGE","link":71}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.47","widget_ue_connectable":{}},"widgets_values":[]},{"id":38,"type":"MaskPreview+","pos":[1270.5634765625,561.4019775390625],"size":[355.29351806640625,334.4088134765625],"flags":{},"order":12,"mode":0,"inputs":[{"label":"mask","localized_name":"mask","name":"mask","type":"MASK","link":56}],"outputs":[],"properties":{"cnr_id":"comfyui_essentials","ver":"9d9f4bedfc9f0321c19faf71855e228c93bd0dc9","widget_ue_connectable":{}},"widgets_values":[]},{"id":37,"type":"AILab_MaskCombiner","pos":[756.6048583984375,802.5814208984375],"size":[320,118],"flags":{},"order":9,"mode":0,"inputs":[{"label":"mask_1","localized_name":"遮罩 1","name":"mask_1","type":"MASK","link":54},{"label":"mask_2","localized_name":"遮罩 2","name":"mask_2","shape":7,"type":"MASK","link":55},{"label":"mask_3","localized_name":"遮罩 3","name":"mask_3","shape":7,"type":"MASK","link":null},{"label":"mask_4","localized_name":"遮罩 4","name":"mask_4","shape":7,"type":"MASK","link":null},{"label":"mode","localized_name":"模式","name":"mode","type":"COMBO","widget":{"name":"mode"},"link":null}],"outputs":[{"label":"MASK","localized_name":"遮罩","name":"MASK","type":"MASK","links":[56,57,74]}],"properties":{"cnr_id":"comfyui-rmbg","ver":"2.6.0","widget_ue_connectable":{}},"widgets_values":["intersection"],"color":"#2e3e57","bgcolor":"#4b5b73"},{"id":45,"type":"LayerMask: MaskGrow","pos":[1294.686767578125,947.084716796875],"size":[270,106],"flags":{},"order":14,"mode":0,"inputs":[{"label":"mask","localized_name":"mask","name":"mask","type":"MASK","link":74},{"label":"invert_mask","localized_name":"invert_mask","name":"invert_mask","type":"BOOLEAN","widget":{"name":"invert_mask"},"link":null},{"label":"grow","localized_name":"grow","name":"grow","type":"INT","widget":{"name":"grow"},"link":null},{"label":"blur","localized_name":"blur","name":"blur","type":"INT","widget":{"name":"blur"},"link":null}],"outputs":[{"label":"mask","localized_name":"mask","name":"mask","type":"MASK","links":[75]}],"properties":{"cnr_id":"comfyui_layerstyle","ver":"1.0.90","widget_ue_connectable":{}},"widgets_values":[true,5,0],"color":"rgba(27, 80, 119, 0.7)"},{"id":10,"type":"RMBG","pos":[331.36126708984375,211.82838439941406],"size":[340,302],"flags":{},"order":1,"mode":0,"inputs":[{"label":"image","localized_name":"图像","name":"image","type":"IMAGE","link":11},{"label":"model","localized_name":"模型","name":"model","type":"COMBO","widget":{"name":"model"},"link":null},{"label":"sensitivity","localized_name":"灵敏度","name":"sensitivity","shape":7,"type":"FLOAT","widget":{"name":"sensitivity"},"link":null},{"label":"process_res","localized_name":"处理分辨率","name":"process_res","shape":7,"type":"INT","widget":{"name":"process_res"},"link":null},{"label":"mask_blur","localized_name":"遮罩模糊","name":"mask_blur","shape":7,"type":"INT","widget":{"name":"mask_blur"},"link":null},{"label":"mask_offset","localized_name":"遮罩偏移","name":"mask_offset","shape":7,"type":"INT","widget":{"name":"mask_offset"},"link":null},{"label":"invert_output","localized_name":"反转输出","name":"invert_output","shape":7,"type":"BOOLEAN","widget":{"name":"invert_output"},"link":null},{"label":"refine_foreground","localized_name":"精细前景优化","name":"refine_foreground","shape":7,"type":"BOOLEAN","widget":{"name":"refine_foreground"},"link":null},{"label":"background","localized_name":"背景类型","name":"background","shape":7,"type":"COMBO","widget":{"name":"background"},"link":null},{"label":"background_color","localized_name":"背景颜色","name":"background_color","shape":7,"type":"COLOR","widget":{"name":"background_color"},"link":null}],"outputs":[{"label":"IMAGE","localized_name":"图像","name":"IMAGE","type":"IMAGE","links":[12,34,44,63]},{"label":"MASK","localized_name":"遮罩","name":"MASK","type":"MASK","links":[53,54]},{"label":"MASK_IMAGE","localized_name":"遮罩图像","name":"MASK_IMAGE","type":"IMAGE","links":null}],"properties":{"cnr_id":"comfyui-rmbg","ver":"2.6.0","widget_ue_connectable":{}},"widgets_values":["RMBG-2.0",1,1024,0,0,false,true,"Color","#222222"],"color":"#222e40","bgcolor":"#364254"}],"links":[[11,12,0,10,0,"IMAGE"],[12,10,0,13,0,"IMAGE"],[16,12,0,16,0,"IMAGE"],[17,16,0,15,0,"IMAGE"],[34,10,0,22,0,"IMAGE"],[40,25,0,28,0,"IMAGE"],[44,10,0,29,0,"IMAGE"],[46,29,0,30,0,"IMAGE"],[47,16,1,29,1,"MASK"],[48,29,0,31,0,"IMAGE"],[49,31,0,32,0,"IMAGE"],[52,16,1,34,0,"MASK"],[53,10,1,36,0,"MASK"],[54,10,1,37,0,"MASK"],[55,16,1,37,1,"MASK"],[56,37,0,38,0,"MASK"],[57,37,0,25,2,"MASK"],[63,10,0,25,0,"IMAGE"],[64,16,0,25,1,"IMAGE"],[69,12,0,44,0,"IMAGE"],[71,44,0,43,0,"IMAGE"],[74,37,0,45,0,"MASK"],[75,45,0,44,1,"MASK"]],"groups":[],"config":{},"extra":{"workspace_info":{"id":"PrsLzk1dYwqKnVLKENxQ9","saveLock":false,"cloudID":null,"coverMediaPath":null},"ue_links":[],"ds":{"scale":0.7247295000000004,"offset":[735.0501939292795,89.9196139471863]},"links_added_by_ue":[]},"version":0.4}
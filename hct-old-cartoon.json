{"id":"00000000-0000-0000-0000-000000000000","revision":0,"last_node_id":262,"last_link_id":49,"nodes":[{"id":75,"type":"UltimateSDUpscale","pos":[2470,130],"size":[274.044921875,614],"flags":{},"order":14,"mode":0,"inputs":[{"label":"image","localized_name":"image","name":"image","type":"IMAGE","link":26},{"label":"model","localized_name":"model","name":"model","type":"MODEL","link":27},{"label":"positive","localized_name":"positive","name":"positive","type":"CONDITIONING","link":28},{"label":"negative","localized_name":"negative","name":"negative","type":"CONDITIONING","link":29},{"label":"vae","localized_name":"vae","name":"vae","type":"VAE","link":30},{"label":"upscale_model","localized_name":"upscale_model","name":"upscale_model","type":"UPSCALE_MODEL","link":31},{"label":"upscale_by","localized_name":"upscale_by","name":"upscale_by","type":"FLOAT","widget":{"name":"upscale_by"},"link":25},{"label":"seed","localized_name":"seed","name":"seed","type":"INT","widget":{"name":"seed"},"link":null},{"label":"steps","localized_name":"steps","name":"steps","type":"INT","widget":{"name":"steps"},"link":null},{"label":"cfg","localized_name":"cfg","name":"cfg","type":"FLOAT","widget":{"name":"cfg"},"link":null},{"label":"sampler_name","localized_name":"sampler_name","name":"sampler_name","type":"COMBO","widget":{"name":"sampler_name"},"link":null},{"label":"scheduler","localized_name":"scheduler","name":"scheduler","type":"COMBO","widget":{"name":"scheduler"},"link":null},{"label":"denoise","localized_name":"denoise","name":"denoise","type":"FLOAT","widget":{"name":"denoise"},"link":null},{"label":"mode_type","localized_name":"mode_type","name":"mode_type","type":"COMBO","widget":{"name":"mode_type"},"link":null},{"label":"tile_width","localized_name":"tile_width","name":"tile_width","type":"INT","widget":{"name":"tile_width"},"link":null},{"label":"tile_height","localized_name":"tile_height","name":"tile_height","type":"INT","widget":{"name":"tile_height"},"link":null},{"label":"mask_blur","localized_name":"mask_blur","name":"mask_blur","type":"INT","widget":{"name":"mask_blur"},"link":null},{"label":"tile_padding","localized_name":"tile_padding","name":"tile_padding","type":"INT","widget":{"name":"tile_padding"},"link":null},{"label":"seam_fix_mode","localized_name":"seam_fix_mode","name":"seam_fix_mode","type":"COMBO","widget":{"name":"seam_fix_mode"},"link":null},{"label":"seam_fix_denoise","localized_name":"seam_fix_denoise","name":"seam_fix_denoise","type":"FLOAT","widget":{"name":"seam_fix_denoise"},"link":null},{"label":"seam_fix_width","localized_name":"seam_fix_width","name":"seam_fix_width","type":"INT","widget":{"name":"seam_fix_width"},"link":null},{"label":"seam_fix_mask_blur","localized_name":"seam_fix_mask_blur","name":"seam_fix_mask_blur","type":"INT","widget":{"name":"seam_fix_mask_blur"},"link":null},{"label":"seam_fix_padding","localized_name":"seam_fix_padding","name":"seam_fix_padding","type":"INT","widget":{"name":"seam_fix_padding"},"link":null},{"label":"force_uniform_tiles","localized_name":"force_uniform_tiles","name":"force_uniform_tiles","type":"BOOLEAN","widget":{"name":"force_uniform_tiles"},"link":null},{"label":"tiled_decode","localized_name":"tiled_decode","name":"tiled_decode","type":"BOOLEAN","widget":{"name":"tiled_decode"},"link":null}],"outputs":[{"label":"IMAGE","localized_name":"图像","name":"IMAGE","type":"IMAGE","links":[43]}],"properties":{"cnr_id":"comfyui_ultimatesdupscale","ver":"95fb26043d341c79246f0e137aabc64c19d67d37","Node name for S&R":"UltimateSDUpscale","widget_ue_connectable":{"upscale_by":true}},"widgets_values":[2,1018064712381419,"randomize",20,6,"euler_ancestral","normal",0.25000000000000006,"Linear",1024,1024,16,64,"None",1,128,8,16,"enable",false]},{"id":78,"type":"UpscaleModelLoader","pos":[100,590],"size":[270,58],"flags":{},"order":0,"mode":0,"inputs":[{"label":"model_name","localized_name":"模型名称","name":"model_name","type":"COMBO","widget":{"name":"model_name"},"link":null}],"outputs":[{"label":"UPSCALE_MODEL","localized_name":"放大模型","name":"UPSCALE_MODEL","type":"UPSCALE_MODEL","links":[31]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.47","Node name for S&R":"UpscaleModelLoader","widget_ue_connectable":{}},"widgets_values":["4x-UltraSharp.pth"]},{"id":117,"type":"SaveImage","pos":[3214.044921875,130],"size":[270,58],"flags":{},"order":16,"mode":0,"inputs":[{"label":"images","localized_name":"图片","name":"images","type":"IMAGE","link":32},{"label":"filename_prefix","localized_name":"文件名前缀","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"},"link":null}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.47","Node name for S&R":"SaveImage","widget_ue_connectable":{}},"widgets_values":["i"]},{"id":214,"type":"ControlNetApplyAdvanced","pos":[2100,130],"size":[270,186],"flags":{},"order":13,"mode":0,"inputs":[{"label":"positive","localized_name":"正面条件","name":"positive","type":"CONDITIONING","link":33},{"label":"negative","localized_name":"负面条件","name":"negative","type":"CONDITIONING","link":34},{"label":"control_net","localized_name":"ControlNet","name":"control_net","type":"CONTROL_NET","link":35},{"label":"image","localized_name":"图像","name":"image","type":"IMAGE","link":36},{"label":"vae","localized_name":"vae","name":"vae","shape":7,"type":"VAE","link":null},{"label":"strength","localized_name":"强度","name":"strength","type":"FLOAT","widget":{"name":"strength"},"link":null},{"label":"start_percent","localized_name":"开始百分比","name":"start_percent","type":"FLOAT","widget":{"name":"start_percent"},"link":null},{"label":"end_percent","localized_name":"结束百分比","name":"end_percent","type":"FLOAT","widget":{"name":"end_percent"},"link":null}],"outputs":[{"label":"positive","localized_name":"正面条件","name":"positive","type":"CONDITIONING","links":[28]},{"label":"negative","localized_name":"负面条件","name":"negative","type":"CONDITIONING","links":[29]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.47","Node name for S&R":"ControlNetApplyAdvanced","widget_ue_connectable":{}},"widgets_values":[0.6000000000000001,0,0.9000000000000002]},{"id":240,"type":"LoraLoader","pos":[600,130],"size":[270,126],"flags":{},"order":8,"mode":0,"inputs":[{"label":"model","localized_name":"模型","name":"model","type":"MODEL","link":37},{"label":"clip","localized_name":"CLIPCLIP","name":"clip","type":"CLIP","link":38},{"label":"lora_name","localized_name":"LoRA名称","name":"lora_name","type":"COMBO","widget":{"name":"lora_name"},"link":null},{"label":"strength_model","localized_name":"模型强度","name":"strength_model","type":"FLOAT","widget":{"name":"strength_model"},"link":null},{"label":"strength_clip","localized_name":"CLIP强度","name":"strength_clip","type":"FLOAT","widget":{"name":"strength_clip"},"link":null}],"outputs":[{"label":"MODEL","localized_name":"模型","name":"MODEL","type":"MODEL","links":[27]},{"label":"CLIP","localized_name":"CLIP","name":"CLIP","type":"CLIP","links":[47,48]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.47","Node name for S&R":"LoraLoader","widget_ue_connectable":{}},"widgets_values":["add-detail-xl.safetensors",1.0000000000000002,1.0000000000000002]},{"id":241,"type":"Text Concatenate","pos":[1100,460],"size":[270,142],"flags":{},"order":9,"mode":0,"inputs":[{"label":"text_a","localized_name":"text_a","name":"text_a","shape":7,"type":"STRING","link":49},{"label":"text_b","localized_name":"text_b","name":"text_b","shape":7,"type":"STRING","link":40},{"label":"text_c","localized_name":"text_c","name":"text_c","shape":7,"type":"STRING","link":null},{"label":"text_d","localized_name":"text_d","name":"text_d","shape":7,"type":"STRING","link":null},{"label":"delimiter","localized_name":"delimiter","name":"delimiter","type":"STRING","widget":{"name":"delimiter"},"link":null},{"label":"clean_whitespace","localized_name":"clean_whitespace","name":"clean_whitespace","type":"COMBO","widget":{"name":"clean_whitespace"},"link":null}],"outputs":[{"label":"STRING","localized_name":"字符串","name":"STRING","type":"STRING","links":[46]}],"properties":{"cnr_id":"was-node-suite-comfyui","ver":"1.0.2","Node name for S&R":"Text Concatenate","widget_ue_connectable":{}},"widgets_values":["","true"]},{"id":243,"type":"ShowText|pysssss","pos":[1100,732],"size":[140,76],"flags":{},"order":10,"mode":0,"inputs":[{"label":"text","localized_name":"text","name":"text","type":"STRING","link":41}],"outputs":[{"label":"STRING","localized_name":"字符串","name":"STRING","shape":6,"type":"STRING","links":null}],"properties":{"cnr_id":"comfyui-custom-scripts","ver":"aac13aa7ce35b07d43633c3bbe654a38c00d74f5","Node name for S&R":"ShowText|pysssss","widget_ue_connectable":{}},"widgets_values":["The image shows a brown background with a floral pattern of brown flowers and leaves, creating a beautiful and intricate design."]},{"id":255,"type":"easy float","pos":[100,966],"size":[270,58],"flags":{},"order":2,"mode":0,"inputs":[{"label":"value","localized_name":"值","name":"value","type":"FLOAT","widget":{"name":"value"},"link":null}],"outputs":[{"label":"float","localized_name":"浮点","name":"float","type":"FLOAT","links":[25]}],"properties":{"cnr_id":"comfyui-easy-use","ver":"1.3.0","Node name for S&R":"easy float","widget_ue_connectable":{}},"widgets_values":[2.0000000000000004]},{"id":257,"type":"Florence2Run","pos":[600,386],"size":[400,364],"flags":{},"order":7,"mode":0,"inputs":[{"label":"image","localized_name":"image","name":"image","type":"IMAGE","link":44},{"label":"florence2_model","localized_name":"florence2_model","name":"florence2_model","type":"FL2MODEL","link":45},{"label":"text_input","localized_name":"text_input","name":"text_input","type":"STRING","widget":{"name":"text_input"},"link":null},{"label":"task","localized_name":"task","name":"task","type":"COMBO","widget":{"name":"task"},"link":null},{"label":"fill_mask","localized_name":"fill_mask","name":"fill_mask","type":"BOOLEAN","widget":{"name":"fill_mask"},"link":null},{"label":"keep_model_loaded","localized_name":"keep_model_loaded","name":"keep_model_loaded","shape":7,"type":"BOOLEAN","widget":{"name":"keep_model_loaded"},"link":null},{"label":"max_new_tokens","localized_name":"max_new_tokens","name":"max_new_tokens","shape":7,"type":"INT","widget":{"name":"max_new_tokens"},"link":null},{"label":"num_beams","localized_name":"num_beams","name":"num_beams","shape":7,"type":"INT","widget":{"name":"num_beams"},"link":null},{"label":"do_sample","localized_name":"do_sample","name":"do_sample","shape":7,"type":"BOOLEAN","widget":{"name":"do_sample"},"link":null},{"label":"output_mask_select","localized_name":"output_mask_select","name":"output_mask_select","shape":7,"type":"STRING","widget":{"name":"output_mask_select"},"link":null},{"label":"seed","localized_name":"seed","name":"seed","shape":7,"type":"INT","widget":{"name":"seed"},"link":null}],"outputs":[{"label":"image","localized_name":"image","name":"image","type":"IMAGE","links":null},{"label":"mask","localized_name":"mask","name":"mask","type":"MASK","links":null},{"label":"caption","localized_name":"caption","name":"caption","type":"STRING","links":[40,41]},{"label":"data","localized_name":"data","name":"data","type":"JSON","links":null}],"properties":{"cnr_id":"comfyui-florence2","ver":"1.0.5","Node name for S&R":"Florence2Run","widget_ue_connectable":{}},"widgets_values":["","detailed_caption",true,false,1024,3,true,"",310485903697702,"randomize",[false,true]]},{"id":259,"type":"CLIPTextEncode","pos":[1600,130],"size":[400,200],"flags":{},"order":12,"mode":0,"inputs":[{"label":"clip","localized_name":"clip","name":"clip","type":"CLIP","link":47},{"label":"text","localized_name":"文本","name":"text","type":"STRING","widget":{"name":"text"},"link":46}],"outputs":[{"label":"CONDITIONING","localized_name":"条件","name":"CONDITIONING","type":"CONDITIONING","links":[33]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.47","Node name for S&R":"CLIPTextEncode","widget_ue_connectable":{"text":true}},"widgets_values":["",[false,true]]},{"id":260,"type":"CLIPTextEncode","pos":[1100,130],"size":[400,200],"flags":{},"order":11,"mode":0,"inputs":[{"label":"clip","localized_name":"clip","name":"clip","type":"CLIP","link":48},{"label":"text","localized_name":"文本","name":"text","type":"STRING","widget":{"name":"text"},"link":null}],"outputs":[{"label":"CONDITIONING","localized_name":"条件","name":"CONDITIONING","type":"CONDITIONING","links":[34]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.47","Node name for S&R":"CLIPTextEncode","widget_ue_connectable":{}},"widgets_values":["ugly,deformed,noisy,blurry,low contrast,realism,photorealistic,(simple background,cgi,render,blurry,worst quality,low quality,boring,noisy, plastic, smooth, predictable,ugly,mundane,open mouth, distorted,muddled,render,amateur,compressed,watermark, logo,painting,sketch,fake,artificial,collage:1.4),",[false,true]]},{"id":254,"type":"easy imageColorMatch","pos":[2844.044921875,130],"size":[270,126],"flags":{},"order":15,"mode":0,"inputs":[{"label":"image_ref","localized_name":"参考图像","name":"image_ref","type":"IMAGE","link":42},{"label":"image_target","localized_name":"目标图像","name":"image_target","type":"IMAGE","link":43},{"label":"method","localized_name":"方法","name":"method","type":"COMBO","widget":{"name":"method"},"link":null},{"label":"image_output","localized_name":"图像输出","name":"image_output","type":"COMBO","widget":{"name":"image_output"},"link":null},{"label":"save_prefix","localized_name":"save_prefix","name":"save_prefix","type":"STRING","widget":{"name":"save_prefix"},"link":null}],"outputs":[{"label":"image","localized_name":"图像","name":"image","type":"IMAGE","links":[32]}],"properties":{"cnr_id":"comfyui-easy-use","ver":"1.3.0","Node name for S&R":"easy imageColorMatch","widget_ue_connectable":{}},"widgets_values":["mvgd","Hide","ComfyUI"]},{"id":262,"type":"DF_Text","pos":[641.71044921875,873.8173828125],"size":[270,58],"flags":{},"order":4,"mode":0,"inputs":[{"label":"Text","localized_name":"Text","name":"Text","type":"STRING","widget":{"name":"Text"},"link":null}],"outputs":[{"label":"STRING","localized_name":"字符串","name":"STRING","type":"STRING","links":[49]}],"properties":{"cnr_id":"derfuu_comfyui_moddednodes","ver":"d0905bed31249f2bd0814c67585cf4fe3c77c015","widget_ue_connectable":{}},"widgets_values":["(masterpiece), (best quality), (realistic), (very clear)"]},{"id":12,"type":"LoadImage","pos":[121.0062484741211,-6.098733425140381],"size":[274.080078125,314],"flags":{},"order":5,"mode":0,"inputs":[{"label":"image","localized_name":"图像","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"label":"upload","localized_name":"选择文件上传","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"label":"IMAGE","localized_name":"图像","name":"IMAGE","type":"IMAGE","links":[26,36,42,44]},{"label":"MASK","localized_name":"遮罩","name":"MASK","type":"MASK","links":null}],"properties":{"cnr_id":"comfy-core","ver":"0.3.47","Node name for S&R":"LoadImage","widget_ue_connectable":{}},"widgets_values":["input.jpg","image"]},{"id":80,"type":"ControlNetLoader","pos":[100,778],"size":[422.81494140625,58],"flags":{},"order":1,"mode":0,"inputs":[{"label":"control_net_name","localized_name":"ControlNet名称","name":"control_net_name","type":"COMBO","widget":{"name":"control_net_name"},"link":null}],"outputs":[{"label":"CONTROL_NET","localized_name":"ControlNet","name":"CONTROL_NET","type":"CONTROL_NET","links":[35]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.47","Node name for S&R":"ControlNetLoader","widget_ue_connectable":{}},"widgets_values":["ttplanetSDXLControlnet_v20Fp16.safetensors"]},{"id":258,"type":"Florence2ModelLoader","pos":[100,1154],"size":[288.740234375,130],"flags":{},"order":3,"mode":0,"inputs":[{"label":"lora","localized_name":"lora","name":"lora","shape":7,"type":"PEFTLORA","link":null},{"label":"model","localized_name":"model","name":"model","type":"COMBO","widget":{"name":"model"},"link":null},{"label":"precision","localized_name":"precision","name":"precision","type":"COMBO","widget":{"name":"precision"},"link":null},{"label":"attention","localized_name":"attention","name":"attention","type":"COMBO","widget":{"name":"attention"},"link":null},{"label":"convert_to_safetensors","localized_name":"convert_to_safetensors","name":"convert_to_safetensors","shape":7,"type":"BOOLEAN","widget":{"name":"convert_to_safetensors"},"link":null}],"outputs":[{"label":"florence2_model","localized_name":"florence2_model","name":"florence2_model","type":"FL2MODEL","links":[45]}],"properties":{"cnr_id":"comfyui-florence2","ver":"1.0.5","Node name for S&R":"Florence2ModelLoader","widget_ue_connectable":{}},"widgets_values":["CogFlorence-2.2-Large","fp16","sdpa",false]},{"id":76,"type":"CheckpointLoaderSimple","pos":[100,362],"size":[270,98],"flags":{},"order":6,"mode":0,"inputs":[{"label":"ckpt_name","localized_name":"Checkpoint名称","name":"ckpt_name","type":"COMBO","widget":{"name":"ckpt_name"},"link":null}],"outputs":[{"label":"MODEL","localized_name":"模型","name":"MODEL","type":"MODEL","links":[37]},{"label":"CLIP","localized_name":"CLIP","name":"CLIP","type":"CLIP","links":[38]},{"label":"VAE","localized_name":"VAE","name":"VAE","type":"VAE","links":[30]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.47","Node name for S&R":"CheckpointLoaderSimple","widget_ue_connectable":{}},"widgets_values":["DreamShaper XL v2.1 Turbo 闪电_v2.1 Turbo.safetensors"]}],"links":[[25,255,0,75,6,"FLOAT"],[26,12,0,75,0,"IMAGE"],[27,240,0,75,1,"MODEL"],[28,214,0,75,2,"CONDITIONING"],[29,214,1,75,3,"CONDITIONING"],[30,76,2,75,4,"VAE"],[31,78,0,75,5,"UPSCALE_MODEL"],[32,254,0,117,0,"IMAGE"],[33,259,0,214,0,"CONDITIONING"],[34,260,0,214,1,"CONDITIONING"],[35,80,0,214,2,"CONTROL_NET"],[36,12,0,214,3,"IMAGE"],[37,76,0,240,0,"MODEL"],[38,76,1,240,1,"CLIP"],[40,257,2,241,1,"STRING"],[41,257,2,243,0,"STRING"],[42,12,0,254,0,"IMAGE"],[43,75,0,254,1,"IMAGE"],[44,12,0,257,0,"IMAGE"],[45,258,0,257,1,"FL2MODEL"],[46,241,0,259,1,"STRING"],[47,240,1,259,0,"CLIP"],[48,240,1,260,0,"CLIP"],[49,262,0,241,0,"STRING"]],"groups":[],"config":{},"extra":{"ds":{"scale":0.9646149645000016,"offset":[805.7765311259192,-186.18256349439756]},"frontendVersion":"1.23.4","ue_links":[],"links_added_by_ue":[],"workspace_info":{"id":"HqtbUpbL_bFI35-yO2ONF"}},"version":0.4}